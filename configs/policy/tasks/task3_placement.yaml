# ==================== 任务3：日化产品定姿摆放 ====================

# 任务基本信息
task:
  id: 3
  name: 'placement'
  stage: 3 # Stage 3: 从任务2模型继续

  # 任务描述（中文）
  description: '机器人需要对三个日化瓶进行翻面定姿摆放。依次拾取两个标签朝下的瓶子，翻转后精确放置在各自的目标位置，确保标签朝向正确；再拾取一个标签朝上的瓶子，调整后精确放置并确保标签朝向正确。所有瓶子需满足：瓶口位于黄色区域外部，瓶身大部分位于黄色区域内部，标签面朝上。'

  # Language Instruction（英文）
  language_instruction: 'Flip and place three daily chemical bottles with precise position and orientation control. First grasp two bottles with labels facing down, flip them and place at their target positions with labels facing up correctly. Then grasp one bottle with label facing up, adjust and place at target position with correct label orientation. All bottles must satisfy: bottle mouth outside the yellow area, most of the bottle body inside the yellow area, label facing up.'

  # 数据配置
  data:
    root: '/root/robot/data/task-3/1-2000/'
    repoid: 'lerobot/task3_placement'
    episodes_to_use: [0, 199]

  # 训练配置（方案A：单任务专用模型）
  training:
    max_epoch: 200 # 单任务训练，增加到200个epochs充分学习

    # 方案A：从HuggingFace预训练开始（独立训练，不依赖任务2）
    resume_from: 'pretrained'
    pretrained_path: 'lerobot/smolvla_base' # 使用预训练模型

    # 优化器配置（统一学习率策略，与Task1/2保持一致）
    policy:
      optimizer_lr: 0.00008 # 统一学习率（从0.00012降低），提高训练稳定性
      scheduler_warmup_steps: 5000 # 增加warmup（从3000→5000，约4.8 epochs），避免早期发散
      scheduler_decay_steps: 50000 # 保持decay步数（48.0 epochs，23.0%），配合200 epochs训练


  # Replay配置（方案A：不使用replay，单任务专用）
  # replay:
  #   task1_episodes: 0  # 不混合其他任务数据
  #   task2_episodes: 0
