# ==================== 任务3：日化产品定姿摆放 ====================

# 任务基本信息
task:
  id: 3
  name: 'placement'
  stage: 3 # Stage 3: 从任务2模型继续

  # 任务描述（中文）
  description: '机器人需要识别并处理桌面上的三个随机摆放的物体（其中两个反面，一个正面）。对于反面的物体，机器人需要拾取、翻面并运送到目标区域，确保物体正面朝上（正面轴-y与世界z轴偏差不超过10度）；对于正面的物体，机器人只需拾取并运送到目标区域，保持正面朝上。所有物体的中心位置必须位于目标区域内，且物体保持在桌面上。'

  # Language Instruction（英文）
  language_instruction: 'Identify and handle three randomly placed objects on the table (two facing down, one facing up). For objects facing down, grasp, flip and transport them to the target area with the front side facing up (front axis -y within 10 degrees of world z-axis). For the object facing up, grasp and transport it to the target area while maintaining its upward orientation. All objects must have their center within the target area and remain on the table surface.'

  # 数据配置
  data:
    root: '/root/robot/data/task-3/lerobot/1-1000'
    repoid: 'lerobot/task3_placement'
    episodes_to_use: [0, 999]

  # 训练配置（方案A：单任务专用模型）
  training:
    max_epoch: 200 # 单任务训练，增加到200个epochs充分学习

    # 方案A：从HuggingFace预训练开始（独立训练，不依赖任务2）
    resume_from: 'pretrained'
    pretrained_path: 'lerobot/smolvla_base' # 使用预训练模型

    # 优化器配置（使用SmolVLA默认值）
    policy:
      optimizer_lr: 0.0001 # 1e-4, SmolVLA默认学习率
      scheduler_warmup_steps: 1000 # SmolVLA默认值
      scheduler_decay_steps: 30000 # SmolVLA默认值


  # Replay配置（方案A：不使用replay，单任务专用）
  # replay:
  #   task1_episodes: 0  # 不混合其他任务数据
  #   task2_episodes: 0
