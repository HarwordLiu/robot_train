# ==================== 任务1：移动目标抓取 ====================

# 任务基本信息
task:
  id: 1
  name: 'moving_grasp'
  stage: 1 # Stage 1: 从预训练模型开始

  # 任务描述（中文）
  description: '机器人从移动的传送带上抓取物体。将物体精确放置在桌面上第一个彩色目标块的中心位置，确保物体中心与目标中心对齐。然后再次抓取物体，并将其精确放置在桌面上第二个彩色目标块的中心位置。'

  # Language Instruction（英文，SmolVLA使用）
  # 这个instruction会在每个batch中作为任务条件输入模型
  # 优化版本：明确描述目标位置的特征
  language_instruction: 'Grasp the object from the moving conveyor belt. Place it precisely at the center of the first colored target block on the table, ensuring the object center aligns with the target center. Then grasp it again and place it precisely at the center of the second colored target block on the table.'

  # 数据配置
  data:
    root: '/root/robot/data/task-1/1-2000/lerobot/'
    # root: '/mnt/e/robot/data/data/task1/lerobot/1-400/'
    repoid: 'lerobot/task1_moving_grasp'
    episodes_to_use: [0, 499] # 使用1000个episodes

  # 训练配置（方案A：单任务专用模型）
  training:
    max_epoch: 200 # 单任务训练可以更多epochs（150→200），充分学习

    # 从HuggingFace预训练SmolVLA开始（单任务独立训练）
    resume_from: 'pretrained'
    pretrained_path: 'lerobot/smolvla_base' # 使用镜像源下载的预训练模型

    # 优化器配置（解冻视觉层后需要更保守的学习率）
    policy:
      optimizer_lr: 0.00005 # 降低学习率（0.00012→0.00005），解冻视觉层后更稳定
      scheduler_warmup_steps: 5000 # 增加warmup（3000→5000），避免早期发散
      scheduler_decay_steps: 60000 # 更长decay（50000→60000），配合更多epochs
# 任务1没有replay配置（方案A：单任务专用模型）
