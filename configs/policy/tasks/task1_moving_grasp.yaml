# ==================== 任务1：移动目标抓取 ====================

# 任务基本信息
task:
  id: 1
  name: 'moving_grasp'
  stage: 1 # Stage 1: 从预训练模型开始

  description: '机器人从移动的传送带上抓取物体，放置于桌面第一个目标位置后，再将其拿起至第二个目标位置'

  # Language Instruction（英文，SmolVLA使用）
  # 这个instruction会在每个batch中作为任务条件输入模型
  # 优化版本：明确描述目标位置的特征
  language_instruction: 'Grasp the object from the conveyor belt using visual guidance. Place it precisely at the first marked target location on the table. Then grasp it again and place it precisely at the second marked target location on the table.'

  # 数据配置
  data:
    root: '/root/robot/data/task-1/1-2000/lerobot/'
    # root: '/mnt/e/robot/data/data/task1/lerobot/1-400/'
    repoid: 'lerobot/task1_moving_grasp'
    episodes_to_use: [0, 999]

  # 训练配置
  training:
    max_epoch: 100 # 任务1训练100个epochs

    # Stage 1: 从HuggingFace预训练SmolVLA开始
    resume_from: 'pretrained'
    pretrained_path: 'lerobot/smolvla_base' # 使用镜像源下载的预训练模型

    # 优化器配置（针对batch_size=64优化）
    policy:
      optimizer_lr: 5e-5 # 保守的VLM微调学习率，保证最佳稳定性和效果
      scheduler_warmup_steps: 1500 # 充分warmup VLM+Action Expert异构架构
      scheduler_decay_steps: 25000 # Cosine decay到充分收敛
# 任务1没有replay配置（因为是第一个任务）
