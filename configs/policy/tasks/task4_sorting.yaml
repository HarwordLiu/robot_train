# ==================== 任务4：全流程分拣 ====================

# 任务基本信息
task:
  id: 4
  name: 'sorting'
  stage: 4 # Stage 4: 最终多任务模型

  # 任务描述（中文）
  description: '机器人从指定起始点出发，移动至流利架前拾取工件，随后转身移动至放置架，将工件放置在物料筐内指定位置'

  # Language Instruction（英文）
  language_instruction: 'Move from the starting point to the rack, pick up the workpiece, turn around, move to the placement rack, and place it in the designated position in the material container'

  # 数据配置
  data:
    root: '/root/robot/data/task-1/1-2000/lerobot/'
    repoid: 'lerobot/task4_sorting'
    episodes_to_use: [0, 199]

  # 训练配置（方案A：单任务专用模型）
  training:
    max_epoch: 200 # 单任务训练，增加到200个epochs充分学习

    # 方案A：从HuggingFace预训练开始（独立训练，不依赖任务3）
    resume_from: 'pretrained'
    pretrained_path: 'lerobot/smolvla_base' # 使用预训练模型

    # 优化器配置（统一学习率策略，与Task1/2保持一致）
    policy:
      optimizer_lr: 0.00008 # 统一学习率（从0.00012降低），提高训练稳定性
      scheduler_warmup_steps: 5000 # 增加warmup（从3000→5000，约4.8 epochs），避免早期发散
      scheduler_decay_steps: 50000 # 保持decay步数（48.0 epochs，23.0%），配合200 epochs训练


  # Replay配置（方案A：不使用replay，单任务专用）
  # replay:
  #   task1_episodes: 0  # 不混合其他任务数据
  #   task2_episodes: 0
  #   task3_episodes: 0
# 方案A说明：
# 每个任务训练独立的专用模型，以最大化单任务成功率
# 4个任务将产生4个独立的模型文件
